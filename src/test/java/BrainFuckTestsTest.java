import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.assertEquals;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

public class BrainFuckTestsTest {


    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    private final PrintStream originalOut = System.out;

    @Before
    public void setUpStream() {
        System.setOut(new PrintStream(outContent));
    }

    @After
    public void restoreStream() {
        System.setOut(originalOut);
    }

    @Test
    public void Test1(){
        Executor executor = new Executor(">++++++++[<+++++++++>-]<.>>+>+>++>[-]+<[>[->+<<++++>]<<]>.+++++++..+++.>>+++++++.<<<<+++++++++++++.>>.+++.------.----.>>+.");
        executor.execute();
        assertEquals("Hello Uorlh!",outContent.toString());
    }

    @Test
    public void Test2(){
        Executor executor = new Executor("-[--->+<]>-.[---->+++++<]>-.+.++++++++++.+[---->+<]>+++.-[--->++<]>-.++++++++++.+[---->+<]>+++.[-->+++++++<]>.++.-------------.[--->+<]>---..+++++.-[---->+<]>++.+[->+++<]>.++++++++++++..---.[-->+<]>--------.");
        executor.execute();
        assertEquals("This is pretty cool.",outContent.toString());
    }

    @Test
    public void Test3(){
        Executor executor = new Executor("-[----->+<]>.[--->++<]>--.[-->+++<]>++.--[--->++<]>.[-->+++<]>+.-[--->++<]>.+[->+++<]>.++++++++++++.++++++.-------.++++++.++[->+++<]>++.+++++++++++.++++++++.---------.-[->+++++<]>-.-[--->++<]>-.++++++++++.+[---->+<]>+++.+++++[->+++<]>.+++++++.+[->+++<]>.+++++++++++++.");
        executor.execute();
        assertEquals("3 2 1 countdown is over",outContent.toString());
    }

    @Test
    public void Test4(){
        Executor executor = new Executor("+++[<+>>>>>>>>++++++++++<<<<<<<-]>+++++[<+++++++++>-]+>>>>>>+[<<+++[>>[-<]<[>]<-]>>" +
                "[>+>]<[<]>]>[[->>>>+<<<<]>>>+++>-]<[<<<<]<<<<<<<<+[->>>>>>>>>>>>[<+[->>>>+<<<<]>" +
                ">>>>]<<<<[>>>>>[<<<<+>>>>-]<<<<<-[<<++++++++++>>-]>>>[<<[<+<<+>>>-]<[>+<-]<++<<+" +
                ">>>>>>-]<<[-]<<-<[->>+<-[>>>]>[[<+>-]>+>>]<<<<<]>[-]>+<<<-[>>+<<-]<]<<<<+>>>>>>>" +
                ">[-]>[<<<+>>>-]<<++++++++++<[->>+<-[>>>]>[[<+>-]>+>>]<<<<<]>[-]>+>[<<+<+>>>-]<<<" +
                "<+<+>>[-[-[-[-[-[-[-[-[-<->[-<+<->>]]]]]]]]]]<[+++++[<<<++++++++<++++++++>>>>-]<" +
                "<<<+<->>>>[>+<<<+++++++++<->>>-]<<<<<[>>+<<-]+<[->-<]>[>>.<<<<[+.[-]]>>-]>[>>.<<" +
                "-]>[-]>[-]>>>[>>[<<<<<<<<+>>>>>>>>-]<<-]]>>[-]<<<[-]<<<<<<<<]");
        executor.execute();
        assertEquals("3.14",outContent.toString());
    }

    @Test
    public void Test5(){
        Executor executor = new Executor("+++++++++++" +
                ">+>>>>++++++++++++++++++++++++++++++++++++++++++++" +
                ">++++++++++++++++++++++++++++++++<<<<<<[>[>>>>>>+>" +
                "+<<<<<<<-]>>>>>>>[<<<<<<<+>>>>>>>-]<[>++++++++++[-" +
                "<-[>>+>+<<<-]>>>[<<<+>>>-]+<[>[-]<[-]]>[<<[>>>+<<<" +
                "-]>>[-]]<<]>>>[>>+>+<<<-]>>>[<<<+>>>-]+<[>[-]<[-]]" +
                ">[<<+>>[-]]<<<<<<<]>>>>>[+++++++++++++++++++++++++" +
                "+++++++++++++++++++++++.[-]]++++++++++<[->-<]>++++" +
                "++++++++++++++++++++++++++++++++++++++++++++.[-]<<" +
                "<<<<<<<<<<[>>>+>+<<<<-]>>>>[<<<<+>>>>-]<-[>>.>.<<<" +
                "[-]]<<[>>+>+<<<-]>>>[<<<+>>>-]<<[<+>-]>[<+>-]<<<-]");
        executor.execute();
        assertEquals("1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89",outContent.toString());
    }

    @Test
    public void Test6(){
        Executor executor = new Executor("--[----->+<]>----.[--->+<]>----.+++[->+++<]>++.++++++++.+++++.--------.-[--->+<]>--.+[->+++<]>+.++++++++.-[++>---<]>+.++[->+++<]>+.++.[->++++++<]>.+[->+++<]>.[--->+<]>----.+[---->+<]>+++.+[----->+<]>.--------.--[--->+<]>-.---[->++++<]>+.-------.---------.----.--[--->+<]>--.++++[->+++<]>.--[--->+<]>-.---[->++++<]>-.----.[--->+<]>-----.---[->++++<]>.+[->+++<]>++.++++++++++.------.--[--->+<]>-.+[----->+<]>.--------.--[--->+<]>-.---[->++++<]>.-----.[--->+<]>-----.---[->++++<]>.+++[->+++<]>.----.++++++++++++.-[->+++<]>.[-->+++<]>-.[--->+<]>-.++[---->+<]>++.[-->+++++++<]>.----.-------.----.--[--->+<]>--.++++[->+++<]>.");
        executor.execute();
        assertEquals("brainfuck gives me unease so take me to teamDev please",outContent.toString());
    }


}